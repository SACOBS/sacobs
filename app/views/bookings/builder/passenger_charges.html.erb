<%= content_for (:title) do %>
    Booking Wizard - Passenger charges
<% end %>
<%= content_for (:actions) do %>
    <%= link_to 'Back', previous_wizard_path, class: 'btn btn-inverse' %>
    <%= link_to 'Cancel', booking_path(@booking), method: :delete, class: 'btn btn-danger' %>
<% end %>
<%= simple_form_for @booking, url: wizard_path, method: :patch do |f| %>
    <div class="control-group">
      <div class="controls">
        <%= f.submit 'Next (alt + n)', autofocus: true, accesskey: 'n' %>
      </div>
    </div>
    <%= f.fields_for :passengers do |p| %>
        <h5><%= p.object.full_name %> (<%= p.object.passenger_type.description.titleize %>)</h5>
        <% Charge.all.each do |c| %>
            <%= label_tag 'charge', c.description, class: 'checkbox' do %>
                <%= check_box_tag "booking[passengers_attributes][#{p.options[:child_index]}]charges[]", c.id, p.object.charges.include?(c), id: dom_id(c) %>
                <%= c.description %>
            <% end %>
        <% end %>
        <hr/>
    <% end %>
<% end %>
