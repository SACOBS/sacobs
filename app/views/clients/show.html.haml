= content_for(:title) do
  #{@client.full_name}
- cache @client do
  - client_decorator = decorate(@client)
  .page-header
    %h3= client_decorator.full_name
    .actions
      = back_to clients_path
      = client_decorator.edit_link class: t('buttons.inverse')
      = client_decorator.destroy_link class: t('buttons.danger'), data: { confirm: 'Are you sure you want to destroy this client?' }

  .row-fluid.well.well-small
    .span4
      %h4 Details
      %p>
        %strong Title:
        = client_decorator.title
      %p>
        %strong Name:
        = client_decorator.name
      %p>
        %strong Surname:
        = client_decorator.surname
      %p>
        %strong Age:
        = client_decorator.age
      %p>
        %strong Date Of Birth:
        = client_decorator.date_of_birth
      %p>
        %strong Bank:
        = client_decorator.bank
      %p>
        %strong High Risk:
        = @client.high_risk? ? 'Yes' : 'No'
      %p>
        %strong
          %u Notes
        %blockquote= simple_format(@client.notes.presence || 'N/A')
    .span4
      %h4 Contact Info
      %p>
        %strong Home Telephone No:
        = client_decorator.home_no
      %p>
        %strong Work Telephone No:
        = client_decorator.work_no
      %p>
        %strong Cellphone No:
        = client_decorator.cell_no
      %p>
        %strong Email:
        = client_decorator.email
    .span4
      %h4 Address Info
      %p>
        %strong Street Address 1:
        = client_decorator.street_address1
      %p>
        %strong Street Address 2:
        = client_decorator.street_address2
      %p>
        %strong City:
        = client_decorator.city
      %p>
        %strong Postal Code:
        = client_decorator.postal_code
  .row-fluid
    .client-vouchers.well.well-small.span6
      %h4 Credit Vouchers
      - if client_decorator.vouchers.present?
        = bootstrap_table headers: %w(Reference Amount), types: %i(bordered condensed) do
          - client_decorator.vouchers.each do |voucher|
            %tr
              %td= voucher.ref_no
              %td= number_to_currency(voucher.amount, unit: 'R')
      - else
        %h5  This client has no vouchers
      = client_decorator.add_voucher_link class: t('buttons.mini.warning')
    .client-bookings.well.well-small.span6
      %h4 Recent Bookings
      - if client_decorator.recent_bookings.present?
        = bootstrap_table headers: %w(Status TripDate Connection Qty), types: %i(bordered condensed), html_options: { class: 'sortable' } do
          - client_decorator.recent_bookings.each do |booking|
            %tr
              %td= booking.status
              %td{ data: { dateformat: 'll' } }= booking.trip_start_date
              %td= booking.connection
              %td= booking.quantity
      - else
        %h5  This client has no bookings


