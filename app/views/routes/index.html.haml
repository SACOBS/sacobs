= content_for(:title) do
  Routes
.page-header
  %h2 Routes
  = link_to 'Setup Route', route_builder_index_path(route_id: :building), method: :post, icon: :plus, class: t('buttons.primary')
  = link_to 'Refresh', routes_path, class: t('buttons.default'), icon: :refresh

= bootstrap_table headers: ['Actions', 'Description', 'Start City', 'End City', 'Master Rate', 'Distance', 'Connections'], types: %i(hover condensed), html_options: { class: 'sortable' } do
  - @routes.each do |route|
    - cache route do
      - RouteDecorator.new(route, self) do |decorated_route|
        %tr{ class: dom_class(route), id: dom_id(route) }
          %td
            = decorated_route.add_destination_link(icon: :plus, class: t('buttons.mini.primary'))
            = decorated_route.copy_link(icon: :copy, class: t('buttons.mini.warning'))
            = decorated_route.reverse_copy_link(icon: :copy, class: t('buttons.mini.warning'))
            = decorated_route.show_link(icon: :info, class: t('buttons.mini.info'))
            = decorated_route.edit_link(icon: :edit,  class: t('buttons.mini.inverse'))
            = decorated_route.destroy_link(icon: :times, class: t('buttons.mini.danger'))
          %td= link_to decorated_route.name, route
          %td= decorated_route.start_city
          %td= decorated_route.end_city
          %td= decorated_route.cost
          %td= decorated_route.distance
          %td= decorated_route.connections_count

